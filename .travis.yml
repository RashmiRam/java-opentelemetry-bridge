# Copyright 2019 The OpenTracing Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/io/opentracing/contrib/opentelemetry/bridge
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: qvbKv3fNBxbNpmPn/3Prwr97hXPFLaSUsqvGzkOEieYI/aMjuzHgJdvmaBGWhQ2stWpQ7GcQvmcK6wrUHINhKMtXs4Jj9PIt7Mh4sO5KriA2jMGjlCf1elZyq95oX7/WvLYEl8I/l/8tQEieNpZzRVO2TARkuOQT4NmHpoXU+MGj18UGNvSKlCe5aWEdnmp88YPGGAkpLsn3qHVe/Yyfv6VN0vgaq5xzAGm2qXP82bkwKnsdJdgG3wJi8XZ5y4NHk9Yh8fqmg7qr36t0sFc9J6EV0RFdwOP6N8F4oKHbxe4BSqd97t+uh5AiEOGAlJksLnZcF5dkqC09ZBShceVSzT0C+yas82HTAX2XIQjsAsdvQmUM+BgwbZ1hTv9/0xVFq0Tjlyx7Yqc2OzzmLcygg7oOymWKwvMwNics08JRlLb4iEY3pviZz3z/VHi5pP77adxII2/JjoAqr8UbVgrEtJ6MSz0ns+sLMQTYEJizOrSUw/EFibSDN7xhLg5/d6BCAJ9YB+FtwgbGr/DvkI6AHU8gLdsktH9lC2/lcZQMso8Mc36SsMMJu1jrbydHG59AG2b7cIULl3npyyx0tKCOyEBYj5Lw0+w33Y+nlZ4CHCPcffj550noB7wmXPs3W9ixeGS8spJaqGSAIyShgIiVmeREMruPxI0NTyggQNOqZC0=
  - secure: Kh61Vb0Znp0iI1u4VA+UcyoOqZiBZAcrrIYdRU/Z8LMtl9up5tw0Few+GALx+p86BOD9QpU//SJyQiBDo+zeoDn/ThSVrZQivWhm9bxMQpXiz9SRkZqK3KzkEguVzjPsgCFm+vLdDvEMWBfJdJQxnd7o7xcQKLB1Bba96/9UgM6kDr80We0KEaYj0sgWkAwLrp33GBr5Ha8FwyB5ID/QsI0rkvuubgwlpxIgMuqXwf4q7Qhh3H2aNXDLx00dWkElfZrqNS7kmb9AwShCF8I383HaAZvkNyTvzYD8gTvsBT06LY1+MMfBMSp1n1VaxWwg8+WqFQFnW9uFm24p2QckD+/he0yn6iRPsvNvbzb/m6skNysCNFslcM+OkO3oYbUHnD708J6x3JtpUDEA3kBGDNA/klWFyQ0yk6Z5mKlcphU8x36O2SnfQlVwWfmuOUJ7f5BZHhPGedvBbQB+0U1/X6SuI8ytbc7Fi57kHnuFowjY8XtR3PxxXLuepuBrrToq+FIrfQ9vtbK8X9A286Nsk4kH2bpx+iX9TVlqwexcK/YfoqA4giqr0rY8eFbgaZrh5I37A/PDfgJ/EITC5CtKj9vqpjPfrrwnYGmgcJ2QnDDxFTFiv3HRKHkPjh22uE4J+cjjD3mWFH9aqB/BKHF4fYxRwX6DhU++4fKB6zT7K0Y=
  - secure: gy/vKvwynfFZOQLHh9z16qHMPKW1NVV/Ua/b7fii2vkcjmpPIL5/GOiZ7aqItyxi4upXYYsc3Cl7IH8TgsYBVGT8WIfvMOvWYUMEA7EYUNWMoqubTCkkub9ijAsX6Dfw5E9Uwe9hjWtL9880gORw9FQAaLEh/3KKkmOkVIFkugnWfQZtzrIlcMCpIIzP+iUmUC/1z3KWY6+wlgYZGKieMovSLDx8c1uooWae4gChhAqouXwuFzLSHu42Y0ceJds3Ukh0G3pRttXP+4e7olgCvNgLfpmKxSxv0kxmROP9rfIPkWb8OBUTWUn1Z+fSvgDDjVM8nIwCw5Nemh8euZtECw0eEYKPk9HmIAtPHDM02zaSLQcT6+AD7nshNH4vLdSdDXKUqz6rXnv8Oe1p0ll4i65corejVwnjTBJHImZweCkPURvZUGveWNLf8H1cqq/r5cVsu766ssOpi+s7lB4WoOu6Up0PdyLjwWcZE8ORtyBs9jhEy92frGUDIIryKsdzf6UBtriAFqACj15jTbNw7NYy2OHCNYxaqq1MmNJpOIG3eurKjReJv6ExsF0EpP6P3y7XkE4ktHTZB11c0mS9YmxmDia1xhOUmDn0h9o22aQyHbbppyCNehKO5g0XO5heJYFuIUrn0yLEinZExZIDyL5xP9vbrhKW0IAkyANXPl0=
  - secure: zfN64DvTtIlDUioqHFs4Rtb3ptFVDXXhDd7KLKCmCj+ZNC67vgUz2zlA64wCOUvGR5JAHs82ewqDzSw29jx6gpVsAaw9N9XQ1z/WjnsnX0Inia6tbvmdwNVAyEF5PT6lXBU4EMH4+Xb+vWpi3LB1/5/5K92FO4s8FDY95UqMIdDPYEJvJIgClChdgYHRhqVM5ohqgel1irmohPQdJtEPle9xIJr1PrIzNF5ckn8qtA9lnf+sPhJ6YEWGTpxVK3doyVT7IuWsIwMBkJ77hDi5rB5s3BaJorDJMlLXKluRQk2W038wOtFXdP+ln3IYDmm6IxRHFp4fj8fylZmGacvYnKBmmdaJv5ZBYXmQCCB2e4JMPTqtLAqX+c5tEQXGTGKXqVybOPba2uge/yNq98IM1xXvxZQL+zJAGSslI7RuPgn4pdz4Iw/kT7dj63xcnrfadFJzJxiSdXFlgn/BlA6eOCw4YQX0AhJODrIP3rRuQboWrzyUcDXehgM9ME71h7ejx11BoREssWycCCTYGD9xpDjBanUotvMz2NXyQG2wW50BB8KCHDJRVuNSYDDH3gxMPjEffEkseng6v5Nckj2ppmCO0uQXMXkmlkDVAq093PseLDJ6kS+UUm+HLsCY83WiGrncBSQIsZWEUUpQJJoRhOAb7wZINv5Kqe+T8+I6+28=
  - secure: cKQ/IAa/Bbvjg2R7vpJ+HvDTgq7ey131oKYfBmkkAx4knEeUcOlHqJrvhh27jVayyHG0BIBL2ol0OOm3YmoFyVomUad5mzgJcONA5+XFqwMeKag/MUw7hl8+17Bire9B3kVaX/KbHljKl0Rx4HiA9L/E+8HL4U6QJ8j9GSjs8ZXwzOVuSjmCGCe/IBjM71K7tBS510rUVVhZXmcE6H11Sx0c1W1CwCBOOOhi017b4EidlLJ65O3xpFM2GKmNTUkaGOxa8F8VFlVwnFOF3BcvVoYRRwwdY/909t+9B28oXdppZ1G8wFbMwzVhi4jpyrcvPsbtYTdKVoURlQRlj3ViBf4bY8lPS14dgGWW7Zb1UFSsqsxmjKiNkDXK8vI3D9/jBebOcAOLG8Nu3jQdPyBOHqibc5w0VjMEEGSDIqN/V7W7rBn2s2sxgXW9p1DiW8rNKxnRfIsGHDRi9XixAtxv+4BblmyOn3l3uHWEzjqAfs9Iep7avN4lKMQCjbq78wqrTPgBw5bTOkTl3GuahBIG+RsDnKy35KmmV+/6PkAF26unPVWazZUgbZyrw7JwPXu97VwAdi8dGa8akVt+pIPteYKln4do8e/fKimGuJVC19xy4l36VrWFNctW7SeCnSWcRTDdM4OfFta4minv8b5onVtIRciabUXPKNPHTRVeeio=
  - secure: E016tjOvSzSTPSPAe6eDbDE7vcCPc6ggVr4p0trgCaYOpK/yEGnxPw3BZZoXIaXMuaZcYRmI2eg4QUbeSgojoFzyo09y4R8yYOaN1udRCca0OgNf30ryFOBd1L27gPZT4fKkZZrqhta2X1ODJpFRBNRfVIKFtH0cG32gMtG2hpvTkSgPRDlzEdDCdFnJKiJLYEm0JvDl9n/8L8QsYQ5J2Z0hm6Bor+qzhKf0xgf1bLV6ERmCELez8tH5jDbAjQnwJX2Ot935P7SrmA/8lmQYR44IEtuT/gYv9ONHC9Y6Jsk2LdM0elTw/wL5b6itfCM3xaZemJYkm2t4/XPLJxEQR8SAKyr28g5MaN3TvFMDz0RM+LJFBnB7pXCxTkkWRgXMxhtEHDopY2EyCtYlBcSr2Hq0MvgVWUR2BhJTrwTaDouEOWB3tORUQhf5r3iOM03wpI1VpPfHkpkieervEhsBBCc0zNbKjrYb3bzngkx2zu310d/iMcYVpjttIsDFCba9IlZxYs7Vmi1wW32/oyF8wYKAP13oh4G3ieG/y6gL4zAgBrnCaptOjCrspUhGpbiVhI9nlRv3QFJaAMHrTyC2uhCYB1sjeDsCHCHlf7hjIyIu/K6qp5/KsTZ1SSRx7ySXBPcRWTtP6yO3mql88J+3oUA++hn227la5XwwWA1z5o8=
  - secure: 0mM47p+jMS+y+zpG+xHH//HghiS0/Mzj7FlpXuFPBZkpGV3G239r0r80lLRcyn1V8aAEA3gmaZS+FdUFu0Smmgy12jZazXiUGI5f0vtBwugKiQtSKn9ZRbiTPK2a3QOHGiT5kyseAdhlGOkNVkHRaS8rKkPK8zPx4x5PYhhYPES9ghB2TKdEukVDJcZAUWIbsYEWjMrKXFZISffYdh6xSx5dWXaZ0KIae28gWYZJaJeCSmOk6YRG01RZ6jXJmjJadfve85tN3WooQyE95zWdMRGCUeSQpTR5Fe98YLLR4Vq7Nu9AODT6QN175sKWHc/C6xJHLbO1PYETkARLhjJ06a0EGEzs32WAqM34JlcI3Pdi2bloKBTGlC30HWkYOYH1UvQgEldnC3V7WWHrWWXbg3C0ZwCuYRrG40Z3DTN+A71g6gE8foCZ3vGITT35FmdJ9FBtPBVzxzK6qe5VF4MOt7MPfVNwJSQI38vFwjPtNLSaf1oiMs3HDqzgMmxUC6xlY/oqFAVkR4v+27UZBXsPePCWJlAbXbJuAVetp6MniBkDYIodjDA4W2LvqONWlSrWUPck5xOnYAw74rqwgdoM7fKmbLkV/hdm31ePZOQKciS01a2E4Ug7aUkuuJI+IZa47QHl4QSpygujie0m7wNDMOvCMvWGL7izBYCQoeINriM=
